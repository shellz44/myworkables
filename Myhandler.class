package handler;



import android.util.Log;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;

/**
 * Created by ${Shellz} on 05/Apr/2016.
 */
public class MyHandler {
    private static InputStream is = null;
    private static String Responce = null;
    private final static int GET = 1;
    private final static int POST = 2;

    public MyHandler() {
    }


        public String makeServiceCall(String url)
        {

          return   this.makeServiceCall(url, MyHandler.GET);
        }


    public String makeServiceCall(String url, int method) {

        try {
            HttpEntity httpentity;
            DefaultHttpClient defaulthttpclient = new DefaultHttpClient();
            HttpResponse httpresponce;
            HttpGet httpget=new HttpGet(url);

            httpresponce=defaulthttpclient.execute(httpget);

            httpentity=httpresponce!=null?httpresponce.getEntity():null;
            assert httpentity!=null;
            is=httpentity.getContent();
        } catch (IOException e) {
            e.printStackTrace();
        }
        try{
            BufferedReader reader=new BufferedReader(new InputStreamReader(is,"UTF-8"),8);
            StringBuilder sb=new StringBuilder();
            String line;
            while ((line=reader.readLine())!=null){
                sb.append(line).append("/n");
            }
            is.close();
            Responce=sb.toString();

        }catch (Exception e)
        {
            Log.e("Buffered Error", "Error: " + e.toString());
        }
        return Responce;
    }

}
